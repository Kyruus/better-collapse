// Generated by CoffeeScript 1.4.0
var $, Accordion;

$ = jQuery;

Accordion = (function() {

  function Accordion(element, settings) {
    this.element = element;
    this.settings = settings;
    this.element = $(this.element);
    this.open_element = this.element.find(this.settings.open_target);
    this.closed_element = this.element.find(this.settings.closed_target);
    if (this.is_open()) {
      this.show();
    } else {
      this.hide();
    }
  }

  Accordion.prototype.show = function() {
    this.open_element.show();
    return this.closed_element.hide();
  };

  Accordion.prototype.hide = function() {
    this.closed_element.show();
    return this.open_element.hide();
  };

  Accordion.prototype.is_open = function() {
    if (this.element.find(".accordion-body.collapse.in").filter(":visible").length > 0) {
      return true;
    }
    return false;
  };

  return Accordion;

})();

$.fn.extend({
  accordion: function(options) {
    var settings;
    settings = {
      open_target: '.js-open_target',
      closed_target: '.js-closed_target'
    };
    if (options && typeof options === 'object') {
      settings = $.extend(settings, options);
    }
    return this.each(function() {
      var $this, data;
      $this = $(this);
      data = $this.data("accordion");
      if (!data) {
        data = $this.data("accordion", new Accordion(this, $this.data()));
      }
      if (options && typeof options === 'string') {
        return data[options]();
      }
    });
  }
});

$(document).on("show.accordion.data-api hide.accordion.data-api", "[data-toggle=accordion]", function(e) {
  return $(this).accordion(e.type);
}).ready(function() {
  return $("[data-toggle=accordion]").accordion();
});
